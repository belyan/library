<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Операторы</title>
</head>
<body>

<!--
Операторы
http://learn.javascript.ru/operators
-->
<script>
    let x = 1;
    x = -x;
    console.log(x); // -1, применили унарный минус

    let x2 = 1, y = 3;
    console.log(y - x2); // 2, бинарный минус

    /* Арифметические операторы */
    console.log(2 + 2); // 4

    let i = 2;
    i = (2 + i) * 3 / i; 
    console.log(i); // 6

    /* Сложение строк, бинарный плюс */
    let s = "моя" + "строка";
    console.log(s); // моястрока

    // Если хотя бы один аргумент является строкой, то второй будет также преобразован к строке!
    console.log("1" + 2); // "12"
    console.log(2 + "1"); // "21"

    /* Преобразование к числу, унарный плюс */
    let apples = "2";
    let oranges = "3";
    console.log(apples + oranges); // 23, так как бинарный плюс складывает строки
    console.log(+apples + oranges); // 23, второй операнд - всё ещё строка
    console.log(+apples + +oranges); // 5, оба операнда предварительно преобразованы в числа

    /* Приоритет операторов */
    // У унарных операторов приоритет выше, чем у соответствующих бинарных
    // Приоритет	Название	Обозначение
    // 16	унарный плюс	+
    // 16	унарный минус	-
    // 14	умножение	    *
    // 14	деление	        /
    // 13	сложение	    +
    // 13	вычитание	    -
    // 3	присваивание	=

    /* Присваивание */
    let x3 = 2 * 2 + 1;
    console.log(x3); // 5

    // Присваивание по цепочке
    let a, b, c;
    a = b = c = 2 + 2;
    console.log(a, b, c); // 4 4 4

    // Оператор "=" возвращает значение
    let a2 = 1;
    let b2 = 2;
    let c2 = 3 - (a2 = b2 + 1);
    console.log(a2); // 3
    console.log(c2); // 0

    /* Остаток от деления */
    console.log(5 % 2); // 1, остаток от деления 5 на 2
    console.log(8 % 3); // 2, остаток от деления 8 на 3
    console.log(6 % 3); // 0, остаток от деления 6 на 3

    /* Возведение в степень */
    console.log(2 ** 2); // 4  (2 * 2)
    console.log(2 ** 3); // 8  (2 * 2 * 2)
    console.log(2 ** 4); // 16 (2 * 2 * 2 * 2)

    /* Инкремент/декремент */
    // Инкремент ++ увеличивает на 1:
    let counter = 2;
    counter++; // работает как counter = counter + 1, просто запись короче
    console.log(counter); // 3

    // Декремент -- уменьшает на 1:
    let counter2 = 2;
    counter2--; // работает как counter = counter - 1, просто запись короче
    console.log(counter2); // 1

    // Префиксная и постфиксная форма
    let counter3 = 1;
    let a3 = ++counter3; // префиксная форма возвращает новое значение
    console.log(a3); // 2

    let counter4 = 1;
    let a4 = counter4++; // постфиксная форма возвращает старое значение
    console.log(a4); // 1

    /* Сокращённая арифметика с присваиванием */
    let n = 2;
    n += 5; // теперь n=7 (работает как n = n + 5)
    n *= 2; // теперь n=14 (работает как n = n * 2)
    console.log(n); // 14

    /* Оператор запятая */
    let a5 = (1 + 2, 3 + 4);
    console.log(a5); // 7 (результат 3 + 4)

    /* Задача */
    let a6 = 2;
    let x4 = 1 + (a6 *= 2);
    console.log(x4); // 5
</script>

</body>
</html>