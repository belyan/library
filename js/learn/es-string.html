<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>–°—Ç—Ä–æ–∫–∏</title>
</head>
<body>

<!--
–°—Ç—Ä–æ–∫–∏
http://learn.javascript.ru/es-string
-->
<script>
    "use strict";

    /* –°—Ç—Ä–æ–∫–∏-—à–∞–±–ª–æ–Ω—ã */
    let str = `–æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏`;
    console.log(typeof str); // string

    // –í –Ω–∏—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏
    console.log(`–º–æ—è
        –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è
        —Å—Ç—Ä–æ–∫–∞`);

    // –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ ${}
    let apples = 2;
    let oranges = 3;
    console.log(`${apples} + ${oranges} = ${apples + oranges}`); // 2 + 3 = 5

    /* –§—É–Ω–∫—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ */
    let str2 = f`Sum of ${apples} + ${oranges} =\n ${apples + oranges}!`;

    // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–æ–∫
    function f(strings, ...values) {
        console.log(JSON.stringify(strings)); // ["Sum of ", " + ", " =\n ", "!"]
        console.log(JSON.stringify(strings.raw)); // ["Sum of ", " + ", " =\\n ", "!"]
        console.log(JSON.stringify(values)); // [2, 3, 5]
    }

    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
    function merge(strings, ...values) {
        let str = "";

        for (let i = 0; i < values.length; i++) {
            str += strings[i];
            str += values[i];
        }

        str += strings[strings.length - 1];

        return str;
    }

    let str3 = merge`Sum of ${apples} + ${oranges} = ${apples + oranges}!`;
    console.log(str3); // Sum of 2 + 3 = 5!

    // –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
    let messages = {
        "Hello, {0}!": "–ü—Ä–∏–≤–µ—Ç, {0}!"
    };

    function i18n(strings, ...values) {
        let pattern = "";

        for (let i = 0; i < values.length; i++) {
            pattern += strings[i] + "{" + i + "}";
        }

        pattern += strings[strings.length - 1]; // "Hello, {0}!"

        let translated = messages[pattern]; // "–ü—Ä–∏–≤–µ—Ç, {0}!"

        return translated.replace(/\{(\d)\}/g, (s, num) => values[num]);
    }

    let name = "–í–∞—Å—è";
    console.log(i18n`Hello, ${name}!`); // –ü—Ä–∏–≤–µ—Ç, –í–∞—Å—è!

    /* –£–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —é–Ω–∏–∫–æ–¥–∞ */
    // –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ –≤ JavaScript ‚Äì —ç—Ç–æ UTF-16, —Ç–æ –µ—Å—Ç—å –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –∑–∞–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –±–∞–π—Ç–∞
    console.log("Êàë".length); // 1
    console.log("©∑∂".length); // 2

    // –ú–µ—Ç–æ–¥—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å "–¥–ª–∏–Ω–Ω—ã–º–∏" —Å–∏–º–≤–æ–ª–∞–º–∏ (4 –±–∞–π—Ç–∞)
    console.log("ùí≥".length); // 2
    console.log("ùí≥".codePointAt(0)); // 119987
    console.log(String.fromCodePoint(119987)); // ùí≥

    // \u{–¥–ª–∏–Ω–Ω—ã–π –∫–æ–¥}
    console.log((119987).toString(16)); // 1d4b3
    console.log("\u{1d4b3}"); // ùí≥

    // Unicode-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    console.log("S\u0307\u0323"); // SÃáÃ£
    console.log("S\u0323\u0307"); // SÃáÃ£
    console.log("S\u0307\u0323" === "S\u0323\u0307"); // false
    console.log("S\u0307\u0323".normalize() === "S\u0323\u0307".normalize()); // true
    console.log("S\u0307\u0323".normalize().length); // 1

    /* –ü–æ–ª–µ–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã */
    // str.includes(s) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ str –≤ —Å–µ–±—è s
    // str.endsWith(s) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ str –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥—Å—Ç—Ä–æ–∫–æ–π s
    // str.startsWith(s) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ str –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–æ —Å—Ç—Ä–æ–∫–∏ s
    // str.repeat(times) ‚Äì –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å—Ç—Ä–æ–∫—É str times —Ä–∞–∑

    console.log("javascript".includes("java")); // true
    console.log("javascript".endsWith("script")); // true
    console.log("javascript".startsWith("java")); // true
    console.log("–ª—è".repeat(3)); // –ª—è–ª—è–ª—è
</script>

</body>
</html>