<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Функции</title>
</head>
<body>

<!--
Функции
http://learn.javascript.ru/function-basics
-->
<script>
    /* Объявление */
    function showMessage() {
        console.log("Всем привет!");
    }
    showMessage();

    /* Локальные переменные */
    function showMessage2() {
        let message = "Привет, я JavaScript!"; // локальная переменная
        console.log(message);
    }
    showMessage2(); // Привет, я JavaScript!
    try {
        console.log(message); // <-- будет ошибка, т.к. переменная видна только внутри
    } catch (e) {
        console.error(e); // ReferenceError: message is not defined
    }

    /* Внешние переменные */
    let userName = "Вася";
    function showMessage3() {
        let message = "Привет, " + userName;
        console.log(message);
    }
    showMessage3(); // Привет, Вася

    function showMessage4() {
        userName = "Петя"; // (1) изменяем значение внешней переменной
        let message = "Привет, " + userName;
        console.log(message);
    }
    console.log(userName); // Вася (перед вызовом функции)
    showMessage4();
    console.log(userName); // Петя (значение внешней переменной было изменено функцией)

    /* Параметры */
    function showMessage5(from, text) { // параметры from, text
        console.log(from + ": " + text);
    }
    showMessage5("Аня", "Привет!"); // Аня: Привет!
    showMessage5("Аня", "Как дела?"); // Аня: Как дела?

    /* Параметры по умолчанию */
    function showMessage6(from, text = "текст не добавлен") {
        console.log(from + ": " + text);
    }
    showMessage6("Маша"); // Маша: текст не передан

    /* Возврат значения */
    function sum(a, b) {
        return a + b;
    }
    let result = sum(1, 2);
    console.log(result); // 3

    /* Выбор имени функции */
    // showMessage();     показывает сообщение
    // getAge();          возвращает возраст
    // calcSum();         вычисляет сумму и возвращает результат
    // createForm();      создаёт форму (и обычно возвращает её)
    // checkPermission(); проверяет доступ, возвращая true/false

    /* Задача */
    function checkAge(age) {
        return (age > 18) ? true : confirm("Родители разрешили?");
    }
    function checkAge2(age) {
        return (age > 18) || confirm("Родители разрешили?");
    }

    /* Задача */
    function min(a, b) {
        return a < b ? a : b;
    }
    console.log(min(2, 5)); // 2

    /* Задача */
    // Напишите функцию pow(x,n), которая возвращает x в степени n
    function pow(x, n) {
        let result = x;
        while (n > 1) {
            result = result * x; // или можно так: result *= x;
            n--;
        }
        return result;
    }
    console.log(pow(3, 3)); // 27
</script>

</body>
</html>